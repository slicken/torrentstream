<head>
    <title>{{.Title}}</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="/www/videojs/video-js.css" rel="stylesheet">
    <script src="/www/videojs/video.min.js"></script>
    <script src="/www/videojs-hotkeys/videojs.hotkeys.js"></script>
</head>
<style>
    /* CSS styles remain the same */
    *{margin: 0;box-sizing: border-box;}
    html{font-family: 'Lato',sans-serif;overflow: auto;background:black;}
    input:focus, textarea:focus, select:focus{outline: none;}
    .video-container { width: 100%; height: 100vh; }
    .video-js .vjs-control-bar { display: -webkit-box; display: -webkit-flex; display: -ms-flexbox; display: flex; }
    .video-js { font-size: 18px; color: whitesmoke; }
    .vjs-default-skin .vjs-big-play-button { font-size: 3em; line-height: 2em; height: 2em; width: 2em; border: 0; border-radius: 1em; left: 50%; top: 50%; margin-left: -(2em / 2); margin-top: -(2em / 2); }
    .video-js .vjs-control-bar, .video-js .vjs-big-play-button, .video-js .vjs-menu-button .vjs-menu-content { background-color: #222; background-color: rgba(22,22,22, 0); }
    .video-js .vjs-slider { background-color: lighten(22,22,22, 33%); background-color: rgba(lighten(22,22,22, 33%), 0.5); }
    .video-js .vjs-volume-level, .video-js .vjs-play-progress, .video-js .vjs-slider-bar { background: whitesmoke; }
    .video-js .vjs-load-progress { background: lighten(lighten(22,22,22, 33%), 25%); background: rgba(lighten(22,22,22, 33%), 0.5); }
    .video-js .vjs-load-progress div { background: lighten(lighten(22,22,22, 33%), 50%); background: rgba(lighten(22,22,22, 33%), 0.75); }
</style>

<video-js id="video" class="video-js vjs-default-skin vjs-fill"
    crossorigin="anonymous"
    width="100%" height="100%"
    controls
    preload="auto"
    autoplay
    playsinline
    data-setup='{
        "playbackRates": [0.25, 0.5, 1, 1.5, 2],
        "responsive": true,
        "fluid": true,
        "html5": {
            "nativeTextTracks": false,
            "preload": "auto"
        }
    }'>

    <source src='/stream?{{.URI}}' type="video/mp4" label="MP4">
    <source src='/stream?{{.URI}}' type="video/webm">
    <source src='/stream?{{.URI}}' type="video/ogg">
    <p class="vjs-no-js">your browser does not support the video tag.</p>

    {{range .Subs}}
        <track src='{{.Path}}' kind="captions" label='{{.Lang}}'>
    {{end}}

</video-js>

<script>
var player = videojs('video');

// Simple error recovery
player.on('error', function() {
    console.log('Player error, attempting recovery...');
    setTimeout(function() {
        player.load();
        player.play();
    }, 2000);
});

// Simple hotkeys setup
player.hotkeys({
    volumeStep: 0.1,
    seekStep: 5,
    enableMute: true,
    enableFullscreen: true,
    enableNumbers: false,
    enableVolumeScroll: true,
    enableHoverScroll: true
});
</script>
